{
  "id": "f754a611-9c51-498b-b571-bce02ea2c162",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "audit_log": {
      "name": "audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_log_tenant_idx": {
          "name": "audit_log_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "audit_log_user_idx": {
          "name": "audit_log_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "audit_log_created_idx": {
          "name": "audit_log_created_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "audit_log_tenant_id_tenants_id_fk": {
          "name": "audit_log_tenant_id_tenants_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_user_id_users_id_fk": {
          "name": "audit_log_user_id_users_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "budgets": {
      "name": "budgets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "daily_spent_cents": {
          "name": "daily_spent_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "monthly_spent_cents": {
          "name": "monthly_spent_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "daily_reset_at": {
          "name": "daily_reset_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "monthly_reset_at": {
          "name": "monthly_reset_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "budgets_tenant_idx": {
          "name": "budgets_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "budgets_tenant_id_tenants_id_fk": {
          "name": "budgets_tenant_id_tenants_id_fk",
          "tableFrom": "budgets",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "budgets_tenant_id_unique": {
          "name": "budgets_tenant_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id"
          ]
        }
      }
    },
    "campaigns": {
      "name": "campaigns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "template_ids": {
          "name": "template_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "quiet_hours_start": {
          "name": "quiet_hours_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 21
        },
        "quiet_hours_end": {
          "name": "quiet_hours_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 9
        },
        "target_url": {
          "name": "target_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "campaigns_tenant_idx": {
          "name": "campaigns_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "campaigns_status_idx": {
          "name": "campaigns_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "campaigns_tenant_id_tenants_id_fk": {
          "name": "campaigns_tenant_id_tenants_id_fk",
          "tableFrom": "campaigns",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "contacts": {
      "name": "contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "phone_e164": {
          "name": "phone_e164",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "consent_status": {
          "name": "consent_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "consent_source": {
          "name": "consent_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consent_timestamp": {
          "name": "consent_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sent_at": {
          "name": "last_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "import_batch_id": {
          "name": "import_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "contacts_tenant_phone_idx": {
          "name": "contacts_tenant_phone_idx",
          "columns": [
            "tenant_id",
            "phone_e164"
          ],
          "isUnique": true
        },
        "contacts_tenant_idx": {
          "name": "contacts_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "contacts_email_idx": {
          "name": "contacts_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "contacts_tenant_id_tenants_id_fk": {
          "name": "contacts_tenant_id_tenants_id_fk",
          "tableFrom": "contacts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "costs": {
      "name": "costs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'AU'"
        },
        "per_part_cents": {
          "name": "per_part_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_until": {
          "name": "effective_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "costs_provider_country_idx": {
          "name": "costs_provider_country_idx",
          "columns": [
            "provider",
            "country"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "do_not_contact": {
      "name": "do_not_contact",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "phone_e164": {
          "name": "phone_e164",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "dnc_tenant_phone_idx": {
          "name": "dnc_tenant_phone_idx",
          "columns": [
            "tenant_id",
            "phone_e164"
          ],
          "isUnique": true
        },
        "dnc_tenant_idx": {
          "name": "dnc_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "do_not_contact_tenant_id_tenants_id_fk": {
          "name": "do_not_contact_tenant_id_tenants_id_fk",
          "tableFrom": "do_not_contact",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "events": {
      "name": "events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "send_job_id": {
          "name": "send_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "short_link_id": {
          "name": "short_link_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "events_tenant_idx": {
          "name": "events_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "events_contact_idx": {
          "name": "events_contact_idx",
          "columns": [
            "contact_id"
          ],
          "isUnique": false
        },
        "events_campaign_idx": {
          "name": "events_campaign_idx",
          "columns": [
            "campaign_id"
          ],
          "isUnique": false
        },
        "events_type_idx": {
          "name": "events_type_idx",
          "columns": [
            "event_type"
          ],
          "isUnique": false
        },
        "events_created_idx": {
          "name": "events_created_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "events_tenant_id_tenants_id_fk": {
          "name": "events_tenant_id_tenants_id_fk",
          "tableFrom": "events",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "events_contact_id_contacts_id_fk": {
          "name": "events_contact_id_contacts_id_fk",
          "tableFrom": "events",
          "tableTo": "contacts",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "events_campaign_id_campaigns_id_fk": {
          "name": "events_campaign_id_campaigns_id_fk",
          "tableFrom": "events",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "events_send_job_id_send_jobs_id_fk": {
          "name": "events_send_job_id_send_jobs_id_fk",
          "tableFrom": "events",
          "tableTo": "send_jobs",
          "columnsFrom": [
            "send_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "events_short_link_id_short_links_id_fk": {
          "name": "events_short_link_id_short_links_id_fk",
          "tableFrom": "events",
          "tableTo": "short_links",
          "columnsFrom": [
            "short_link_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "import_batches": {
      "name": "import_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_hash": {
          "name": "file_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_rows": {
          "name": "total_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_count": {
          "name": "created_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_count": {
          "name": "updated_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "skipped_count": {
          "name": "skipped_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rejected_count": {
          "name": "rejected_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "rejected_rows": {
          "name": "rejected_rows",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "import_batches_tenant_idx": {
          "name": "import_batches_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "import_batches_hash_idx": {
          "name": "import_batches_hash_idx",
          "columns": [
            "file_hash"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "import_batches_tenant_id_tenants_id_fk": {
          "name": "import_batches_tenant_id_tenants_id_fk",
          "tableFrom": "import_batches",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "magic_tokens": {
      "name": "magic_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "magic_tokens_token_idx": {
          "name": "magic_tokens_token_idx",
          "columns": [
            "token"
          ],
          "isUnique": true
        },
        "magic_tokens_user_idx": {
          "name": "magic_tokens_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "magic_tokens_user_id_users_id_fk": {
          "name": "magic_tokens_user_id_users_id_fk",
          "tableFrom": "magic_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "magic_tokens_token_unique": {
          "name": "magic_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "message_templates": {
      "name": "message_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "templates_tenant_idx": {
          "name": "templates_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "message_templates_tenant_id_tenants_id_fk": {
          "name": "message_templates_tenant_id_tenants_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "outbox": {
      "name": "outbox",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "aggregate_id": {
          "name": "aggregate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "aggregate_type": {
          "name": "aggregate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "outbox_processed_idx": {
          "name": "outbox_processed_idx",
          "columns": [
            "processed_at"
          ],
          "isUnique": false
        },
        "outbox_created_idx": {
          "name": "outbox_created_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "send_jobs": {
      "name": "send_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sending_number_id": {
          "name": "sending_number_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parts": {
          "name": "parts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "cost_cents": {
          "name": "cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_id": {
          "name": "provider_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "send_jobs_tenant_campaign_contact_idx": {
          "name": "send_jobs_tenant_campaign_contact_idx",
          "columns": [
            "tenant_id",
            "campaign_id",
            "contact_id"
          ],
          "isUnique": true
        },
        "send_jobs_tenant_idx": {
          "name": "send_jobs_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "send_jobs_campaign_idx": {
          "name": "send_jobs_campaign_idx",
          "columns": [
            "campaign_id"
          ],
          "isUnique": false
        },
        "send_jobs_status_idx": {
          "name": "send_jobs_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "send_jobs_tenant_id_tenants_id_fk": {
          "name": "send_jobs_tenant_id_tenants_id_fk",
          "tableFrom": "send_jobs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "send_jobs_campaign_id_campaigns_id_fk": {
          "name": "send_jobs_campaign_id_campaigns_id_fk",
          "tableFrom": "send_jobs",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "send_jobs_contact_id_contacts_id_fk": {
          "name": "send_jobs_contact_id_contacts_id_fk",
          "tableFrom": "send_jobs",
          "tableTo": "contacts",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "send_jobs_template_id_message_templates_id_fk": {
          "name": "send_jobs_template_id_message_templates_id_fk",
          "tableFrom": "send_jobs",
          "tableTo": "message_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sending_numbers": {
      "name": "sending_numbers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "phone_e164": {
          "name": "phone_e164",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "daily_limit": {
          "name": "daily_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "per_minute_limit": {
          "name": "per_minute_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "warmup_start_date": {
          "name": "warmup_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sending_numbers_phone_idx": {
          "name": "sending_numbers_phone_idx",
          "columns": [
            "phone_e164"
          ],
          "isUnique": true
        },
        "sending_numbers_tenant_idx": {
          "name": "sending_numbers_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sending_numbers_tenant_id_tenants_id_fk": {
          "name": "sending_numbers_tenant_id_tenants_id_fk",
          "tableFrom": "sending_numbers",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sending_numbers_phone_e164_unique": {
          "name": "sending_numbers_phone_e164_unique",
          "nullsNotDistinct": false,
          "columns": [
            "phone_e164"
          ]
        }
      }
    },
    "short_links": {
      "name": "short_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_url": {
          "name": "target_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "click_count": {
          "name": "click_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "human_click_count": {
          "name": "human_click_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "short_links_token_idx": {
          "name": "short_links_token_idx",
          "columns": [
            "token"
          ],
          "isUnique": true
        },
        "short_links_campaign_idx": {
          "name": "short_links_campaign_idx",
          "columns": [
            "campaign_id"
          ],
          "isUnique": false
        },
        "short_links_tenant_idx": {
          "name": "short_links_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "short_links_tenant_id_tenants_id_fk": {
          "name": "short_links_tenant_id_tenants_id_fk",
          "tableFrom": "short_links",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "short_links_campaign_id_campaigns_id_fk": {
          "name": "short_links_campaign_id_campaigns_id_fk",
          "tableFrom": "short_links",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "short_links_contact_id_contacts_id_fk": {
          "name": "short_links_contact_id_contacts_id_fk",
          "tableFrom": "short_links",
          "tableTo": "contacts",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "short_links_token_unique": {
          "name": "short_links_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "suppression_rules": {
      "name": "suppression_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "window_days": {
          "name": "window_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 90
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "suppression_tenant_idx": {
          "name": "suppression_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "suppression_active_idx": {
          "name": "suppression_active_idx",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "suppression_rules_tenant_id_tenants_id_fk": {
          "name": "suppression_rules_tenant_id_tenants_id_fk",
          "tableFrom": "suppression_rules",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Australia/Sydney'"
        },
        "is_paused": {
          "name": "is_paused",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "daily_budget_cents": {
          "name": "daily_budget_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_budget_cents": {
          "name": "monthly_budget_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": true
        },
        "users_tenant_idx": {
          "name": "users_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "users_tenant_id_tenants_id_fk": {
          "name": "users_tenant_id_tenants_id_fk",
          "tableFrom": "users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      }
    },
    "webhook_events": {
      "name": "webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider_event_id": {
          "name": "provider_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "webhook_events_provider_idx": {
          "name": "webhook_events_provider_idx",
          "columns": [
            "provider_event_id"
          ],
          "isUnique": true
        },
        "webhook_events_tenant_idx": {
          "name": "webhook_events_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "webhook_events_tenant_id_tenants_id_fk": {
          "name": "webhook_events_tenant_id_tenants_id_fk",
          "tableFrom": "webhook_events",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhook_events_provider_event_id_unique": {
          "name": "webhook_events_provider_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "provider_event_id"
          ]
        }
      }
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}